### whoami

## はじめに

本セッションの目的と、前提知識を話します。

### セッションの目的

- マイクロサービスを進めていく上で、次になにをするべきなのか? を考えるてかがりになれば
- 想定ターゲット: マイクロサービスをこれから始めたい / 始めたばかり

### マイクロサービスとは

- 自律うんちゃら
- 一種の分割統治法
  - 大きな問題を、小さな問題に分割し、それらを統合して解決する

### マイクロサービスの目的

### Railsとマイクロサービス

[意見] Railsにおいて、マイクロサービス化は早い方がいい

- Railsが威力を発揮するのは中規模開発
- 大規模開発には向いていない部分がある
  - 動的型付けである
  - DIコンテナのような機能がない
- 大規模になるまえに、分割したい

### マイクロサービス以外のアプローチ

もちろん、大規模なRailsアプリへのアプローチもある

- MVC以外の概念を登場させる
  - レイヤードアーキテクチャの導入とか
- Trailblazer


## マイクロサービスを進める上での課題

色々迷う

- いつ始めるべきか
- どこから手をつけるべきか

# Microservices Maturity Model on Rails 概要

### Maturity Modelとは

- 現在の状態を評価し、
- 「次に何を改善すべきか」を理解する手がかりになる

https://martinfowler.com/bliki/MaturityModel.html


### 評価の軸

大きく2つの軸がある

- 技術軸
  - マイクロサービスのメリットを最大限引き出す
  - マイクロサービスのデメリット(複雑さなど)を低減させる
- 組織軸
  - マイクロサービスとそもそもマッチする文化
  - Conwayの法則

## レベル

### Lv.0

-  マイクロサービスを始めるのは時期尚早。

### Lv.1 (Ready)

- モノリシックRailsを効率的に開発できている。
- マイクロサービスを始める準備ができている。

### Lv.2 (Started)
- マイクロサービスを始めている。3個くらい。
- その組織なりのサービス分割の仕方を理解している。

### Lv.3

- マイクロサービスを増やしている。15個くらい。
- 様々な方法でサービスを連携している。
- サービス共通の関心事に対処している。
- チームの分割を進めている。
- 様々な自動化を進めている。

### Lv.4

- ビジネスに応じて、組織と技術が自然にスケールする。
- マイクロサービスの回復性(レジリエンス)を作れている。
  - サービス障害が連鎖しない状態
  - 結果として、全体の障害への耐久力が高い
- マイクロサービス由来の複雑さに対処できている。
- たくさんある。40個とか。

### Lv.5

- めっちゃすごい。どんどんスケールする。最高!!!!
- ∞個

### 個人的な課題感

- 巷にはLv.4やLv.5の話が溢れている
  - 参考にはなるが、すぐに実践できるわけではない
- 基本的に今回はLv.3までの話をします

### この後の章構成

1.upto(5) do |n|

- Lv.n の定義
- Lv.n-1 => Lv.n に進むためにやること
  - 組織軸
  - 技術軸
- 実際にあった例
- このフェーズにおすすめの参考文献

end
