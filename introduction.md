### タイムテーブル

### 今日話さないこと

- 株式会社FiNCについて
- We are hiring

### whoami

# はじめに

### マイクロサービスとは

"マイクロサービスは、 **協調して動作** する、小規模で **自律的** なサービスです。"

### マイクロサービスの目的 (1)

"マイクロサービスの最大の目標は「サービス化された機能のリリースサイクルを、その機能を管理するチームが独自に決定できるようにする」ことです。
それは何のためかというと「機能をどんどん改善して儲けたい」からです。"

http://arclamp.hatenablog.com/entry/2017/09/08/152005

### Railsとマイクロサービス

[意見] Railsにおいて、マイクロサービス化は早い方がいい

- 小〜中規模の開発に、Railsは威力を発揮する
- 大規模開発には向いていない部分がある
  - 動的型付けである
  - レイヤーが少ない
  - DIのような機能がない
- 大規模になるまえに、切り出していこう

### マイクロサービスは難しい？

- 全部やろうとすると難しい
  - いきなり完璧を目指すのは無理
- それぞれのフェーズでやるべきことを理解していれば、そこまで難しくないのでは？

### 本セッションの目的

マイクロサービスを進めていく上で、次に何をするべきなのか？を理解する手がかりになること

### Maturity Modelとは

- 成熟度をレベル別に定義する
- 現在の状態を評価するものさし
- 「次に何を改善すべきか」を理解する手がかり

https://martinfowler.com/bliki/MaturityModel.html

## マイクロサービス成熟度レベルを定義してみる

あとでまた出てくるので、さらっと流します。

### Lv.0

-  マイクロサービスを始めるのは時期尚早。

### Lv.1

- モノリシックRailsを効率的に開発できている。
- マイクロサービスを始めるための組織的な土壌がある。

### Lv.2

- マイクロサービスを始めている。3個くらい。
- その組織のビジネスドメインを理解し、適切にサービス分割できている。
- 分割されたサービスのドメインを中心に、協力できるチームまたはグループがある。
- 権限と責任の委譲が進められている。

### Lv.3

- マイクロサービスを増やしている。15個くらい。
- 様々な方法でサービスを連携している。
- サービス共通の関心事に対処している。
- チームの分割を進めている。
- 様々な自動化を進めている。

### Lv.4

- ビジネスに応じて、組織と技術が自然にスケールする。
- マイクロサービスの回復性(レジリエンス)を作れている。
  - サービス障害が連鎖しない状態
  - 結果として、全体の障害への耐久力が高い
- マイクロサービス由来の複雑さに対処できている。
- サービスはたくさんある。40個とか。

### Lv.5

- めっちゃすごい。どんどんスケールする。最高！！！！
- ∞個

### 個人的な課題感

- 巷にはLv.4やLv.5の話があふれている
  - もちろん参考になるし、それを目指したい
  - しかし、すぐに実践できるわけではない
- 基本的に今回はLv.3までの話をします

### この後の章構成

- 1.upto(3) do |n|
  - Lv.n の定義 (再掲)
  - Lv.n-1 => Lv.n に進むためにやること
    - 技術軸
    - 組織軸
  - このフェーズで実際にあった例
  - このフェーズにおすすめの参考文献
- end
